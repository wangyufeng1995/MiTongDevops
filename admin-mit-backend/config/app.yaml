app:
  name: "MiTong运维平台"
  version: "1.0.0"
  debug: true
  secret_key: "mitong-secret-key-change-in-production"
  
  # JWT 配置
  jwt:
    secret_key: "jwt-secret-key-change-in-production"
    access_token_expires: 3600  # 1小时
    refresh_token_expires: 2592000  # 30天
    algorithm: "HS256"
  
  # CSRF 配置
  csrf:
    secret_key: "csrf-secret-key-change-in-production"
    time_limit: 3600  # CSRF token 有效期（秒）
    exempt_endpoints: []  # 免除 CSRF 检查的端点
  
  # 服务器配置
  server:
    host: "0.0.0.0"
    port: 5000
    threaded: true
  
  # 文件上传配置
  upload:
    max_content_length: 16777216  # 16MB
    allowed_extensions: ["txt", "pdf", "png", "jpg", "jpeg", "gif", "yaml", "yml"]
  
  # CORS 配置
  cors:
    origins:
      - "http://localhost:3000"
      - "http://localhost:3001"
      - "http://127.0.0.1:3000"
      - "http://127.0.0.1:3001"
  
  # 密码加密配置
  password_encryption:
    rsa_key_size: 2048
    private_key_path: "keys/private_key.pem"  # 私钥文件路径
    public_key_cache_ttl: 3600  # 公钥缓存时间（秒）
  
  # 安全配置
  security:
    password_hash_rounds: 12
    max_login_attempts: 5
    lockout_duration: 900  # 15分钟
    password_min_length: 8
    password_require_special_chars: true
  
  # SSH 配置
  ssh:
    max_connections: 10  # 最大连接池大小
    connection_timeout: 30  # 连接超时时间（秒）
    idle_timeout: 300  # 空闲连接超时时间（秒）
    retry_attempts: 3  # 重试次数
    retry_delay: 1  # 重试延迟（秒）
    command_timeout: 30  # 命令执行超时时间（秒）
  
  # 主机监控配置
  host_monitoring:
    collection_interval: 60  # 性能数据采集间隔（秒）
    max_metrics_history: 1000  # 最大保留的性能指标记录数
    system_info_cache_ttl: 3600  # 系统信息缓存时间（秒）
    metrics_cleanup_interval: 3600  # 指标清理间隔（秒）
  
  # Ansible 配置
  ansible:
    timeout: 3600  # Playbook 执行超时时间（秒）
    forks: 5  # 并发执行数
    max_concurrent_executions: 5  # 最大并发执行数量
    work_dir: "/tmp/ansible_executions"  # 工作目录
    log_level: "INFO"  # 日志级别
    gathering: "smart"  # 事实收集策略
    host_key_checking: false  # 是否检查主机密钥
    ssh_retries: 3  # SSH 重试次数
    callback_plugins: ["profile_tasks"]  # 回调插件
    
  # 告警监控配置
  alert_monitoring:
    evaluation_interval: 60  # 告警规则评估间隔（秒）
    max_concurrent_evaluations: 10  # 最大并发评估数
    cache_cleanup_interval: 1800  # 评估缓存清理间隔（秒）
    notification_retry_attempts: 3  # 通知发送重试次数
    notification_retry_delay: 5  # 通知重试延迟（秒）
    silence_period_default: 3600  # 默认静默期（秒）
    duration_condition_default: 300  # 默认持续时间条件（秒）
    metrics_staleness_threshold: 300  # 指标数据过期阈值（秒）
  
  # Celery 配置
  celery:
    broker_url: "redis://172.30.3.135:6379/2"
    result_backend: "redis://172.30.3.135:6379/2"
    task_serializer: "json"
    result_serializer: "json"
    accept_content: ["json"]
    timezone: "Asia/Shanghai"