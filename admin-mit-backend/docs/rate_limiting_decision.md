# 速率限制决策文档

## 决策

在开发环境中，我们决定**不实施速率限制**配置。

## 原因

1. **开发便利性**: 开发环境需要频繁测试和调试，速率限制会影响开发效率
2. **测试需求**: 自动化测试可能需要快速连续发送多个请求
3. **现有基础设施**: 系统已经有 `RateLimiter` 类和 `@rate_limit` 装饰器可用
4. **生产环境配置**: 速率限制应该在生产环境的反向代理层（如 Nginx）或 API 网关层实施

## 现有速率限制功能

系统已经实现了完整的速率限制功能：

- **位置**: `admin-mit-backend/app/core/rate_limiter.py`
- **功能**: 
  - 基于 Redis 的请求频率限制
  - 支持按 IP 地址或用户 ID 限制
  - 支持全局限制和端点级别限制
  - 可配置的限制次数和时间窗口

## 使用方法

如果需要在特定端点启用速率限制，可以使用装饰器：

```python
from app.core.rate_limiter import rate_limit

@auth_bp.route('/login', methods=['POST'])
@rate_limit(limit=5, window=60)  # 每分钟最多 5 次请求
def login():
    # ...
```

## 生产环境建议

在生产环境中，建议：

1. **登录端点**: 限制为每分钟 5-10 次请求
2. **Token 刷新端点**: 限制为每分钟 10-20 次请求
3. **API 端点**: 根据业务需求设置合理的限制
4. **使用 Nginx 限流**: 在反向代理层实施速率限制，提供更好的性能和保护

## 相关需求

- Requirements: 11.4 - 为登录端点和刷新端点实施速率限制

## 状态

- **开发环境**: 不启用速率限制
- **测试环境**: 不启用速率限制
- **生产环境**: 建议在反向代理层启用速率限制
